<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Citizen Login</title>
<style>
  body { font-family: Arial, sans-serif; background: linear-gradient(135deg,#1a2a6c,#b21f1f,#fdbb2d); color:#fff; display:flex; align-items:center; justify-content:center; height:100vh; margin:0;}
  .login-box { background: rgba(0,0,0,0.5); padding:30px; border-radius:12px; width:300px;}
  input, select { width:100%; margin:10px 0; padding:10px; border-radius:6px; border:none;}
  button { width:100%; padding:10px; border:none; border-radius:6px; cursor:pointer; background:#39ff14; color:#000; font-weight:bold; }
</style>
</head>
<body>
<div class="login-box">
  <h2>Citizen / Police / Admin Login</h2>
  <label>Username:</label>
  <input type="text" id="username" placeholder="Minecraft Username / Admin / Police">
  <label>Password / ID:</label>
  <input type="password" id="password" placeholder="Password / Citizen ID">
  <label>Role:</label>
  <select id="role">
    <option value="player">Player</option>
    <option value="police">Police</option>
    <option value="admin">Admin</option>
  </select>
  <button onclick="login()">Login</button>
  <p id="msg" style="color:#ff0; text-align:center;"></p>
</div>

<script>
function login(){
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();
  const role = document.getElementById('role').value;
  
  if(!username || !password){ document.getElementById('msg').innerText='Fill all fields'; return;}

  // Simple demo authentication
  if(role==='admin' && username==='admin' && password==='adminpass'){
    localStorage.setItem('role','admin'); localStorage.setItem('user','admin');
    window.location.href='citizen-dashboard.html';
  } else if(role==='police' && username==='police' && password==='policepass'){
    localStorage.setItem('role','police'); localStorage.setItem('user','police');
    window.location.href='citizen-dashboard.html';
  } else if(role==='player'){
    // Check localStorage for player's registered ID
    const citizens = JSON.parse(localStorage.getItem('citizens')||'[]');
    const found = citizens.find(c => c.username===username && c.id===password);
    if(found){ localStorage.setItem('role','player'); localStorage.setItem('user',username); window.location.href='citizen-dashboard.html';}
    else{ document.getElementById('msg').innerText='Invalid credentials / ID'; }
  } else { document.getElementById('msg').innerText='Invalid credentials'; }
}
</script>
</body>
</html>
