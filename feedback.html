<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crystal SMP Feedback</title>
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background: linear-gradient(270deg,#6a0dad,#1e90ff,#00ffff,#ff00ff,#ff4500,#6a0dad);
  background-size: 1200% 1200%;
  animation: animatedBG 20s ease infinite;
  color:white;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:20px;
  min-height:100vh;
}
@keyframes animatedBG {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}
h1 {font-size:3rem; color:#00ffff; text-shadow:0 0 10px #00ffff,0 0 20px #ff00ff;}
form, .feedback-section {width:100%; max-width:500px; margin-top:20px;}
input, textarea {width:100%; padding:10px; margin:8px 0; border-radius:5px; border:none;}
button {padding:10px 20px; border:none; border-radius:5px; background:#00ffff; color:#000; cursor:pointer;}
.feedback-item {background:rgba(255,255,255,0.1); padding:10px; margin:10px 0; border-radius:5px; display:flex; justify-content:space-between; align-items:center;}
.feedback-user {font-weight:bold; color:#ff1493;}
.feedback-text {margin-left:10px;}
.action-btn {background:#ff1493; color:#fff; border:none; padding:3px 8px; margin-left:5px; border-radius:3px; cursor:pointer;}
#login-form {background:rgba(0,0,0,0.3); padding:20px; border-radius:10px;}
.scroll {margin:20px 0; animation:bounce 1.5s infinite; font-size:1.2rem; color:#ff69b4; text-align:center;}
@keyframes bounce {0%,100% {transform:translateY(0);}50% {transform:translateY(10px);}}
</style>
</head>
<body>

<h1>CRYSTAL SMP FEEDBACK</h1>

<!-- Login Form -->
<div id="login-form">
  <h2>Login</h2>
  <input type="text" id="login-username" placeholder="Minecraft Username">
  <input type="password" id="login-password" placeholder="Password">
  <button onclick="login()">Login</button>
</div>

<!-- Feedback Section -->
<div class="feedback-section" id="feedback-section" style="display:none;">
  <input type="text" id="feedback-text" placeholder="Write your feedback...">
  <button onclick="submitFeedback()">Submit Feedback</button>
  <h2>Total Feedback: <span id="total">0</span></h2>
  <div id="feedback-list"></div>
</div>

<script>
// === Simple Login ===
const passwordCorrect = "crystalsmp"; // set your password
let currentUser = null;

function login(){
  const user = document.getElementById('login-username').value.trim();
  const pass = document.getElementById('login-password').value.trim();
  if(user === "" || pass === "") {alert("Enter username & password!"); return;}
  if(pass !== passwordCorrect) {alert("Incorrect password!"); return;}
  currentUser = user;
  document.getElementById('login-form').style.display = 'none';
  document.getElementById('feedback-section').style.display = 'block';
  loadFeedback();
}

// === Feedback Storage ===
let feedbacks = JSON.parse(localStorage.getItem('feedbacks') || '[]');
const now = new Date().getTime();
feedbacks = feedbacks.filter(f => now - f.timestamp < 30*24*60*60*1000);
localStorage.setItem('feedbacks', JSON.stringify(feedbacks));

// Display Feedback
function loadFeedback(){
  const list = document.getElementById('feedback-list');
  list.innerHTML = '';
  feedbacks.forEach((f, index)=>{
    const div = document.createElement('div');
    div.className = 'feedback-item';
    div.innerHTML = `<span><span class="feedback-user">${f.username}:</span> <span class="feedback-text">${f.text}</span></span>
                     <span>
                      ${f.username===currentUser?`<button class="action-btn" onclick="editFeedback(${index})">Edit</button><button class="action-btn" onclick="deleteFeedback(${index})">Delete</button>`:''}
                     </span>`;
    list.appendChild(div);
  });
  document.getElementById('total').innerText = feedbacks.length;
}

// Submit Feedback
function submitFeedback(){
  const text = document.getElementById('feedback-text').value.trim();
  if(text===''){alert('Enter feedback!'); return;}
  feedbacks.push({username:currentUser,text:text,timestamp:new Date().getTime()});
  localStorage.setItem('feedbacks', JSON.stringify(feedbacks));
  document.getElementById('feedback-text').value='';
  loadFeedback();
}

// Edit Feedback
function editFeedback(index){
  const newText = prompt('Edit your feedback:', feedbacks[index].text);
  if(newText!==null && newText.trim()!==''){
    feedbacks[index].text = newText.trim();
    localStorage.setItem('feedbacks', JSON.stringify(feedbacks));
    loadFeedback();
  }
}

// Delete Feedback
function deleteFeedback(index){
  if(confirm('Are you sure you want to delete this feedback?')){
    feedbacks.splice(index,1);
    localStorage.setItem('feedbacks', JSON.stringify(feedbacks));
    loadFeedback();
  }
}

// Initial display
if(currentUser) loadFeedback();
</script>

</body>
</html>
